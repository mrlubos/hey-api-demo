---
title: 'Development'
description: 'Learn about the project structure and development workflow'
---

## Project Structure

Understanding the organization of the PetStore API Demo project.

```
hey-api-demo/
├── src/
│   ├── client/          # Generated API client (do not edit manually)
│   │   ├── @tanstack/   # TanStack Query hooks
│   │   ├── client/      # HTTP client utilities
│   │   ├── core/        # Core client functionality
│   │   ├── sdk.gen.ts   # SDK class and methods
│   │   ├── types.gen.ts # TypeScript types
│   │   ├── source.json  # OpenAPI spec with code examples
│   │   └── index.ts     # Barrel exports
│   ├── components/      # UI components
│   │   └── ui/         # Shadcn UI components
│   ├── lib/            # Utility functions
│   ├── App.tsx         # Main application component
│   ├── api.ts          # SDK instance configuration
│   └── main.tsx        # Entry point
├── petstore-openapi.yaml    # OpenAPI specification
├── openapi-ts.config.ts     # API client generation config
├── package.json
└── vite.config.ts
```

## OpenAPI Client Generation

The API client is generated using [@hey-api/openapi-ts](https://heyapi.dev/openapi-ts).

### Configuration

The client generation is configured in `openapi-ts.config.ts`:

```typescript
export default {
  input: './petstore-openapi.yaml',
  output: {
    path: './src/client',
    source: true, // Generate source.json with code examples
  },
  plugins: [
    '@hey-api/typescript',      // TypeScript types
    '@hey-api/client-fetch',    // Fetch client
    {
      name: '@hey-api/sdk',
      operations: {
        strategy: 'single',     // Single SDK class
        containerName: 'PetStore',
        methods: 'instance',    // Instance methods
      },
      examples: true,           // Generate code examples
    },
    '@tanstack/react-query',    // React Query hooks
  ],
}
```

### SDK Usage

The SDK is instantiated as a singleton in `src/api.ts`:

```typescript
import { PetStore } from './client'

export const sdk = new PetStore()
```

Use it throughout your application:

```typescript
import { sdk } from './api'

// Fetch pets with 'available' status
const response = await sdk.findPetsByStatus({
  query: { status: 'available' }
})
```

## TanStack Query Integration

Auto-generated React Query hooks for data fetching:

```typescript
import { useFindPetsByStatusQuery } from './client/@tanstack/react-query.gen'

function PetList() {
  const { data, isLoading, error } = useFindPetsByStatusQuery({
    client: sdk,
    query: { status: 'available' }
  })

  if (isLoading) return <div>Loading...</div>
  if (error) return <div>Error: {error.message}</div>

  return (
    <div>
      {data?.map(pet => (
        <div key={pet.id}>{pet.name}</div>
      ))}
    </div>
  )
}
```

## Code Examples

SDK code examples are automatically generated and attached to the OpenAPI spec via `x-codeSamples`. 
These examples are available in `src/client/source.json` and can be used by documentation tools like Mintlify.

Example code sample structure:

```json
{
  "x-codeSamples": [
    {
      "lang": "JavaScript",
      "source": "import { PetStore } from 'your-package';\n\nawait new PetStore().findPetsByStatus()"
    }
  ]
}
```

## Styling

The project uses:

- **Tailwind CSS v4** for utility-first styling
- **Shadcn UI** for pre-built accessible components
- **class-variance-authority** for component variants
- **clsx** and **tailwind-merge** for class name utilities

## Linting

Fast linting with [Oxlint](https://oxc.rs/):

```bash
npm run lint
```

Configuration in `oxlintrc.json`.

<Tip>
  Oxlint is a high-performance linter written in Rust, providing instant feedback during development.
</Tip>

## Building for Production

Build the application:

```bash
npm run build
```

Preview the production build:

```bash
npm run preview
```

The build output will be in the `dist/` directory.

<Warning>
  Never manually edit files in `src/client/` as they are auto-generated. 
  Changes will be overwritten when running `npm run generate:client`.
</Warning>
